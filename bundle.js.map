{"version":3,"file":"bundle.js","sources":["index.js"],"sourcesContent":["import React, {\r\n    useState,\r\n    useCallback,\r\n    useEffect,\r\n  } from 'react';\r\n  import ReactDOM from 'react-dom';\r\n  import { csv, scaleBand, scaleLinear, max } from 'd3';\r\n  \r\n  const csvUrl =\r\n    'https://gist.githubusercontent.com/curran/0ac4077c7fc6390f5dd33bf5c06cb5ff/raw/605c54080c7a93a417a3cea93fd52e7550e76500/UN_Population_2019.csv';\r\n  \r\n  const width = 960;\r\n  const height = 500;\r\n  const margin = {top: 20, right: 20, bottom: 20, left: 20};\r\n  \r\n  const App = () => {\r\n    const [data, setData] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      const row = (d) => {\r\n        d.Population = +d['2020'];\r\n        return d;\r\n      };\r\n      csv(csvUrl, row).then((data) => {\r\n        setData(data.slice(0, 10));\r\n      });\r\n    }, []);\r\n  \r\n    if (!data) {\r\n      return <pre>Loading...</pre>;\r\n    }\r\n  \r\n    console.log(data[0]);\r\n\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n    const innerWidth = width - margin.left - margin.right;\r\n  \r\n    const yScale = scaleBand()\r\n      .domain(data.map((d) => d.Country))\r\n      .range([0, height]);\r\n  \r\n    const xScale = scaleLinear()\r\n      .domain([0, max(data, (d) => d.Population)])\r\n      .range([0, width]);\r\n  \r\n    return (\r\n      <svg width={width} height={height}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          {xScale.ticks().map(tickValue => (\r\n            <g transform={`translate(${xScale(tickValue)},0)`}>\r\n              <line y2={innerHeight} stroke=\"black\"/>\r\n              <text y={innerHeight} style={{textAnchor: 'middle'}} dy=\".71em\">\r\n                {tickValue}</text>\r\n            </g>\r\n          ))}\r\n          {data.map((d) => (\r\n            <rect\r\n            key={d.Country}\r\n            y={yScale(d.Country)}\r\n            width={xScale(d.Population)}\r\n            height={yScale.bandwidth()}\r\n            />\r\n            ))}\r\n        </g>\r\n      </svg>\r\n    );\r\n  };\r\n  const rootElement = document.getElementById('root');\r\n  ReactDOM.render(<App />, rootElement);\r\n  "],"names":["const","useState","useEffect","csv","React","scaleBand","scaleLinear","max","ReactDOM"],"mappings":"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"}