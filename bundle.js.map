{"version":3,"file":"bundle.js","sources":["useData.js","AxisBottom.js","AxisLeft.js","Marks.js","index.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {csv} from 'd3';\r\n\r\nconst csvUrl =\r\n    'https://gist.githubusercontent.com/curran/0ac4077c7fc6390f5dd33bf5c06cb5ff/raw/605c54080c7a93a417a3cea93fd52e7550e76500/UN_Population_2019.csv';\r\n  \r\n\r\nexport const useData = () => {\r\n    const [data, setData] = useState(null);\r\n  \r\n    useEffect(() => {\r\n      const row = (d) => {\r\n        d.Population = +d['2020'];\r\n        return d;\r\n      };\r\n      csv(csvUrl, row).then((data) => {\r\n        setData(data.slice(0, 10));\r\n      });\r\n    }, []);\r\n    return data;\r\n  }\r\n","export const AxisBottom = ({xScale, innerHeight}) => \r\nxScale.ticks().map(tickValue => (\r\n  <g className=\"tick\" key={tickValue} transform={`translate(${xScale(tickValue)},0)`}>\r\n    <line y2={innerHeight}/>\r\n    <text style={{ textAnchor: 'middle' }} dy=\".71em\" y={innerHeight + 3}>\r\n        {tickValue}\r\n    </text>\r\n  </g>\r\n));","export const AxisLeft = ({yScale}) => \r\n    yScale.domain().map(tickValue => (\r\n      <g className=\"tick\">\r\n        <text \r\n          key={tickValue} \r\n          style={{textAnchor: 'end'}} \r\n          dy=\".32em\"\r\n          x={-3}\r\n          y={yScale(tickValue) + yScale.bandwidth()}>\r\n            {tickValue}\r\n        </text>\r\n      </g>\r\n));\r\n","export  const Marks = ({data, xScale, yScale, xValue, yValue}) => \r\n    data.map((d) => (\r\n    <rect\r\n        className=\"mark\"\r\n        key={yValue(d)}\r\n        x={0}\r\n        y={yScale(yValue(d))}\r\n        width={xScale(xValue(d))}\r\n        height={yScale.bandwidth()}\r\n    />\r\n    ));\r\n","import React, {\r\n    useState,\r\n    useCallback,\r\n    useEffect,\r\n  } from 'react';\r\n  import ReactDOM from 'react-dom';\r\n  import { csv, scaleBand, scaleLinear, max } from 'd3';\r\n  import { useData } from './useData';\r\n  import { AxisBottom } from './AxisBottom';\r\n  import { AxisLeft } from './AxisLeft';\r\n  import { Marks } from './Marks';\r\n  \r\n  const width = 960;\r\n  const height = 500;\r\n  const margin = { top: 20, right: 30, bottom: 65, left: 220 };\r\n  const xAxisLabelOffset = 50;\r\n\r\n  const App = () => {\r\n    const data = useData();\r\n    \r\n  \r\n    if (!data) {\r\n      return <pre>Loading...</pre>;\r\n    }\r\n  \r\n    console.log(data[0]);\r\n\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n    const innerWidth = width - margin.left - margin.right;\r\n  \r\n    const yValue = d => d.Country;\r\n    const xValue = d => d.Population\r\n\r\n    const yScale = scaleBand()\r\n      .domain(data.map(yValue))\r\n      .range([0, innerHeight])\r\n      .padding(0.1);\r\n  \r\n    const xScale = scaleLinear()\r\n      .domain([0, max(data, xValue)])\r\n      .range([0, innerWidth]);\r\n  \r\n    return (\r\n      <svg width={width} height={height}>\r\n        <g transform={`translate(${margin.left},${margin.top})`}>\r\n          <AxisBottom xScale={xScale} innerHeight={innerHeight}/>\r\n          <AxisLeft yScale={yScale}/>\r\n          <text\r\n            className='axis-label'\r\n            x={innerWidth / 2} \r\n            y={innerHeight + xAxisLabelOffset}\r\n            textAnchor=\"middle\">\r\n              Population\r\n          </text>\r\n          <Marks \r\n            data={data} \r\n            xScale={xScale} \r\n            yScale={yScale} \r\n            xValue={xValue} \r\n            yValue={yValue}/>\r\n        </g>\r\n      </svg>\r\n    );\r\n  };\r\n  const rootElement = document.getElementById('root');\r\n  ReactDOM.render(<App />, rootElement);\r\n  "],"names":["const","useState","useEffect","csv","React","scaleBand","scaleLinear","max","ReactDOM"],"mappings":"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"}